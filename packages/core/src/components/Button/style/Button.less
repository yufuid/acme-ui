@import '../../../styles/index.less';

@acmeBtnPrefix: ~'@{acme-prefix}-btn';

// é«˜åº¦å˜é‡
@default-height: 40px;
@large-height: 48px;
@small-height: 32px;

@transparent: transparent;

.@{acmeBtnPrefix} {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 0 @spacing-lg;
  border-radius: @border-radius-normal;
  box-sizing: border-box;
  cursor: pointer;
  .text-primary();
}

.contained-primary-action() {
  &:hover {
    background-color: @con-bg-primary-hover;
    border-color: @con-border-primary-hover;
  }
  &:active,
  &:focus {
    background-color: @con-bg-primary-active;
    border-color: @con-border-primary-active;
  }
}
.contained-danger-action() {
  &:hover {
    background-color: @con-bg-danger-hover;
    border-color: @con-border-danger-hover;
  }
  &:active,
  &:focus {
    background-color: @con-bg-danger-active;
    border-color: @con-border-danger-active;
  }
}
.other-action() {
  &:hover {
    background-color: @con-bg-secondary-hover;
  }
  &:active,
  &:focus {
    background-color: @con-bg-secondary-active;
  }
}

// ç±»å‹æŒ‰é’®åˆ†åŒº
.@{acmeBtnPrefix}-contained-primary {
  color: @color-white;
  background-color: @con-bg-primary;
  border: @border-width-normal solid @con-border-primary;
  .contained-primary-action();
}

.@{acmeBtnPrefix}-outlined-primary {
  color: @color-primary;
  background-color: @con-bg-secondary;
  border: @border-width-normal solid @con-border-primary;
  .other-action();
}

.@{acmeBtnPrefix}-minimal-primary {
  // æ–‡å­—æŒ‰é’®æ— å¤§å°å±æ€§, æ‰€ä»¥æ— é«˜åº¦è®¾ç½®
  height: unset !important;
  padding: 0 @spacing-sm;
  color: @color-primary;
  background-color: @transparent;
  border: @border-width-normal solid @transparent;
  .other-action();
}

// åœ¨ç±»å‹ä¸Šå†æ ¹æ®é¢œè‰²åŒºåˆ†ï¼ˆä¸»è‰²å°±æ˜¯åŸºç¡€çš„ï¼ŒğŸ‘‡æ˜¯dangerç±»å‹ï¼‰
.@{acmeBtnPrefix}-contained-danger {
  color: @color-white;
  background-color: @con-bg-danger;
  border: @border-width-normal solid @con-border-danger;
  .contained-danger-action();
}

.@{acmeBtnPrefix}-outlined-danger {
  color: @color-error;
  background-color: @con-bg-secondary;
  border: @border-width-normal solid @con-border-danger;
  .other-action();
}

.@{acmeBtnPrefix}-minimal-danger {
  // æ–‡å­—æŒ‰é’®æ— å¤§å°å±æ€§, æ‰€ä»¥æ— é«˜åº¦è®¾ç½®
  height: unset !important;
  padding: 0 @spacing-sm;
  color: @color-error;
  background-color: @transparent;
  border: @border-width-normal solid @transparent;
  .other-action();
}

// æŒ‰é’®sizeå±æ€§ï¼Œä»…ä»…ç”¨æ¥æ§åˆ¶é«˜åº¦å’Œå­—å·ï¼Œå¯ä»¥å•ç‹¬æŠ½å–æ ·å¼ç±»è¦†ç›–baseç±»ã€‚æ— å…¶ä»–å‰¯ä½œç”¨
.@{acmeBtnPrefix}-default {
  height: @default-height;
}

.@{acmeBtnPrefix}-large {
  height: @large-height;
  .heading-4();
}

.@{acmeBtnPrefix}-small {
  height: @small-height;
}

// ghostå±æ€§ä¼˜å…ˆçº§é«˜äºcolorå±æ€§ï¼æ‰€ä»¥å½“å±æ€§è®¾ç½®ghostæ—¶ï¼Œdangerå±æ€§ä¸ç”Ÿæ•ˆ
.contained-ghost-hover() {
  &:hover {
    background-color: @con-bg-secondary-hover;
  }
  &:active,
  &:focus {
    background-color: @con-bg-secondary-active;
  }
}
.other-ghost-hov {
  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }
  &:active,
  &:focus {
    background-color: rgba(255, 255, 255, 0.2);
  }
}

.@{acmeBtnPrefix}-contained-ghost {
  color: @color-primary;
  background-color: @con-bg-secondary;
  border: @border-width-normal solid @con-border-primary;
  .contained-ghost-hover();
}

.@{acmeBtnPrefix}-outlined-ghost {
  color: @color-white;
  background-color: @transparent;
  border: @border-width-normal solid @color-white;
  .other-ghost-hov();
}

.@{acmeBtnPrefix}-minimal-ghost {
  color: @color-white;
  background-color: @transparent;
  border: @border-width-normal solid @transparent;
  .other-ghost-hov();
}

// disabledå±æ€§ï¼Œæ•´ä½“é€æ˜åº¦è®¾ç½®ä¸º 50%;
.@{acmeBtnPrefix}-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none; // æœ‰IEå…¼å®¹æ€§é—®é¢˜
}

// loadingå±æ€§ï¼Œæ•´ä½“é€æ˜åº¦è®¾ç½®ä¸º 80%;
.@{acmeBtnPrefix}-loading {
  opacity: 0.8;
  cursor: not-allowed;
  pointer-events: none; // æœ‰IEå…¼å®¹æ€§é—®é¢˜
}

// fullWidthå±æ€§
.@{acmeBtnPrefix}-full {
  width: 100%;
}

// loading svg åŠ¨ç”»è®¾ç½®
.@{acmeBtnPrefix}-loading-svg {
  margin-right: @spacing-sm;
  animation: loadingRotate 1s linear infinite;
}

// æ—‹è½¬åŠ¨ç”»
@keyframes loadingRotate {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  50% {
    -webkit-transform: rotate(180deg);
    transform: rotate(180deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

.@{acmeBtnPrefix}-start-element {
  margin-right: @spacing-normal;
}
.@{acmeBtnPrefix}-end-element {
  margin-left: @spacing-normal;
}
